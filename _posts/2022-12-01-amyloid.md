**Amyloid processing tips**
1. Amyloid Atlas https://people.mbi.ucla.edu/sawaya/amyloidatlas/ <br>

2. Recommend doing everything in relion. But you can also do motion correction, CTF estimation, filament picking, all the way to 2D classification in cryosparc. After separating different types of filaments into different select2D jobs, you can convert the cryosparc cs file into relion star to start processing in relion. <br>

   1. This can be done with a single script of jspr (https://jianglab.science.psu.edu/software/). It is the only tool to be able to output tilt and psi priors for helical particles currently. Pyem doesn’t output these parameters. Note that you can’t run jspr and relion in the same terminal because they have incompatible mpirun. So start a new terminal to run relion.<br>
            
   2. To run jspr, after downloading and extracting, simply run “source bashrc” in the jspr folder.<br>
   
   3. Go to the cryosparc selected 2D job folder, run<br>
```   
images2star.py particles_selected.cs particles_selected.star<br>
```
3. A crucial step for Amyloid reconstruction is the initial model building. The relion paper suggested to use 2D class averages to build the initial model. It works but a much simpler way is to make a bare cylinder with around 100A diameter. Because most amyloid filaments have a diameter around 70-120A. Then run 3D classification with T=100, rise=4.75, twist= 4.75*180/crossover, into 3 classes or 1 class if 2D is clean. A large T number means putting more weight on the particle. In this way, you are letting the particles to tell you what structure they have. After this job, if you can see beta sheet separation then you are good to go. <br>

   1. To make a bare cylinder, run the following command (if you don’t have EMAN2, “source bashrc” in the jspr folder would also work). Note:  256 is the box size; 1.16 is the pixel size; outer radius=40A to make a 80A diameter cylinder; length is an even number a bit smaller than box size in angstrom; masksoft doesn’t have to be changed <br>
```   
e2proc3d.py :256:256:256:1.16 thin80cylinder.mrc --apix 1.16 –process mask.cylinder3d:innerradius=0A:outerradius=40A:length=280A:masksoft=10A<br>
```

    If you want to use relion 2D class average to build model, you can use the single command below instead of the multiple commands in relion’s paper. In the relion project folder, run:<br>
```              
relion_helix_inimodel2d --i Select/job026/class_averages.star --o IniModel2/thin7 --crossover_distance 900 --iter 10 --K 1 --maxres 10 --sym 1 --j 8 --angpix 1.16 --search_shift 10 --search_angle 10 --search_size 20<br>
```  
4. Then you can search the optimum rise and twist with Refine3D, input the 3D classification map, initial low pass filter to 10A, C1 symmetry, mask diameter should be an even number a bit smaller than box size, initial angular sampling 3.7 degree.<br>

5. Run Refine3D again with the new rise and twist and search to see if resolution improves. You can also apply C2 or higher symmetry in this step.<br>

6. The final step is Refine3D with the optimum rise and twist without searching, with initial low pass filter to 5A. Also better to have a mask.<br>
